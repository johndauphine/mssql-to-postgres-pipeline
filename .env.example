# MSSQL to PostgreSQL Pipeline - Environment Configuration
#
# Copy this file to .env and adjust values for your system.
#
# QUICK START:
#   1. cp .env.example .env
#   2. Edit connection settings below for your databases
#   3. Choose resource preset for your machine's RAM
#   4. Run: astro dev start (or docker-compose up -d)

# =============================================================================
# PRESET: 16GB RAM (conservative)
# =============================================================================
# MSSQL_MEM_LIMIT=2g
# MSSQL_MEM_RESERVATION=1g
# MSSQL_CPUS=4
# PG_MEM_LIMIT=1536m
# PG_MEM_RESERVATION=768m
# PG_CPUS=3
# PG_SHARED_BUFFERS=256MB
# PG_EFFECTIVE_CACHE_SIZE=512MB
# PG_MAINTENANCE_WORK_MEM=64MB
# MAX_PARTITIONS=4

# =============================================================================
# PRESET: 32GB RAM (default)
# =============================================================================
MSSQL_MEM_LIMIT=4g
MSSQL_MEM_RESERVATION=2g
MSSQL_CPUS=4

PG_MEM_LIMIT=3g
PG_MEM_RESERVATION=1536m
PG_CPUS=4
PG_SHARED_BUFFERS=512MB
PG_EFFECTIVE_CACHE_SIZE=1536MB
PG_MAINTENANCE_WORK_MEM=256MB

MAX_PARTITIONS=8

# =============================================================================
# PRESET: 64GB+ RAM (high performance)
# =============================================================================
# MSSQL_MEM_LIMIT=8g
# MSSQL_MEM_RESERVATION=4g
# MSSQL_CPUS=6
# PG_MEM_LIMIT=6g
# PG_MEM_RESERVATION=3g
# PG_CPUS=6
# PG_SHARED_BUFFERS=1GB
# PG_EFFECTIVE_CACHE_SIZE=3GB
# PG_MAINTENANCE_WORK_MEM=512MB
# MAX_PARTITIONS=12

# =============================================================================
# SOURCE DATABASE (MSSQL)
# =============================================================================
# Host: Docker container name, IP address, or hostname
#   - Docker:    mssql-server (default)
#   - Remote:    192.168.1.100 or sqlserver.company.com
#   - Azure SQL: myserver.database.windows.net
MSSQL_HOST=mssql-server
MSSQL_PORT=1433
MSSQL_USER=sa
MSSQL_PASSWORD=YourStrong@Passw0rd
MSSQL_DATABASE=StackOverflow2013

# =============================================================================
# TARGET DATABASE (PostgreSQL)
# =============================================================================
# Host: Docker container name, IP address, or hostname
#   - Docker:  postgres-target (default)
#   - Remote:  192.168.1.101 or postgres.company.com
#   - AWS RDS: mydb.abc123.us-east-1.rds.amazonaws.com
PG_HOST=postgres-target
PG_PORT=5432
PG_USER=postgres
PG_PASSWORD=PostgresPassword123
PG_DATABASE=stackoverflow
