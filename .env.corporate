# Corporate Airflow Deployment - Environment Variables
#
# This file contains ONLY the environment variables needed when deploying
# to an existing corporate Airflow environment with Kerberos already configured.
#
# SETUP:
#   1. Copy this file: cp .env.corporate .env
#   2. Update the connection details for your corporate databases
#   3. Place .env in the same directory as your DAGs
#   4. Ensure your Airflow environment loads .env files (or set these as Airflow Variables)
#
# NOTE: This assumes your corporate Airflow already has:
#   - Microsoft ODBC Driver 18 for SQL Server installed
#   - Kerberos configured and working
#   - pyodbc and psycopg2-binary packages installed

# =============================================================================
# SQL SERVER SOURCE CONNECTION (with Kerberos/Windows Auth)
# =============================================================================
# Connection details for your source SQL Server database
MSSQL_HOST=your-sqlserver.corp.com
MSSQL_PORT=1433
MSSQL_DATABASE=YourSourceDatabase
# Leave USERNAME and PASSWORD empty to use Kerberos/Windows Authentication
MSSQL_USERNAME=
MSSQL_PASSWORD=

# For SQL Authentication (not recommended in corporate environments):
# MSSQL_USERNAME=your_service_account
# MSSQL_PASSWORD=your_password

# =============================================================================
# POSTGRESQL TARGET CONNECTION
# =============================================================================
# Connection details for your target PostgreSQL database
POSTGRES_HOST=your-postgres.corp.com
POSTGRES_PORT=5432
POSTGRES_DATABASE=YourTargetDatabase
POSTGRES_USERNAME=your_pg_user
POSTGRES_PASSWORD=your_pg_password

# =============================================================================
# MIGRATION CONFIGURATION
# =============================================================================
# Maximum number of parallel partitions for large tables (>5M rows)
# Adjust based on your Airflow worker capacity
# Recommended: 4-8 for most environments
MAX_PARTITIONS=8

# =============================================================================
# NOTIFICATION CONFIGURATION (Optional)
# =============================================================================
# Enable notifications for migration success/failure
NOTIFICATION_ENABLED=false

# Notification channels: comma-separated list of 'email' and/or 'slack'
NOTIFICATION_CHANNELS=slack

# Slack webhook URL (if using Slack notifications)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Email configuration (if using email notifications)
SMTP_HOST=smtp.corp.com
SMTP_PORT=587
SMTP_USER=airflow-notifications@corp.com
SMTP_PASSWORD=your_smtp_password
NOTIFICATION_EMAIL_FROM=airflow-notifications@corp.com
NOTIFICATION_EMAIL_TO=data-team@corp.com,dba-team@corp.com
